{% extends 'base.html.twig' %}

{% block body %}
    <h1>Test !</h1>

    {# Création de variable #}
    {% set name="Emilie" %}

    {# ~ est le symbole de concaténation #}
    <h2>Hello {{ name ~ " " ~ name }} ! </h2>

    {# Création d'un tableau #}
    {% set colors=['red', 'purple', 'green', 'yellow'] %}

    {# Boucler sur un tableau #}
    {% for color in colors %}
        <div style="background-color: {{ color }}">{{ color }}</div>

        {# Usage de la variable loop créée par la boucle for #}
        {% if loop.first %}
            <div>Première itération</div>
        {% endif %}

        {# index de l'élément et taille du tableau #}
        <div>Index de l'élément courant : {{ loop.index }} / {{ loop.length }}</div>

        {% if loop.last %}
            <div>Dernière itération</div>
        {% endif %}

        {# si le tableau est vide, on passe dans le else dans la boucle for #}
    {% else %}
        <div>Pas d'élément ...</div>
    {% endfor %}

    {# Manipulation d'objets #}
    {% set serie = {
        title : "The Last of Us",
        year : 2023,
        plateforme : "HBO"
    } %}

    <h2>Titre de la série : {{ serie.title }}</h2>

    {# boucler sur un objet #}
    {% for key, val in serie %}
        <div>{{ key }} : {{ val }}</div>
    {% endfor %}

    {# les filtres #}
    <br>
    <div>{{ name | upper | lower | capitalize }} : {{ name | length }} lettres</div>
    <br>
    <div>{{ colors | join("-") }}</div>
    <br>
    {# Twig comprend "now" comme une demande de la date du jour #}
    <div> Date d'aujourd'hui :  {{ "now" | date('d/m/y') }}</div>

{% endblock %}

{% block title %} {{ parent() }} | Test {% endblock %}